(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{kEzW:function(t,e,i){"use strict";i.r(e),i.d(e,"ManagementModule",function(){return C});var n=i("tyNb"),s=i("YflO"),a=i("ADQh"),o=i("nUxK"),c=i("pLZG"),r=i("lJxs"),l=i("ZR4k"),d=i("LvDl"),b=i("3Pt+"),h=i("fXoL"),p=i("jhN1"),m=i("TXJZ"),u=i("Owrn"),f=i("0pEx"),v=i("0FS3");let I=(()=>{class t{constructor(t,e,i){this.titleService=t,this.activatedRoute=e,this.accountService=i,this.isSaving=!1,this.title="",this.fields=[],this.model={},this.apiEndpoint="",this.queryParams={},this.form=new b.i({})}ngOnInit(){this.activatedRoute.data.pipe(Object(r.a)(t=>{this.fields=t.doc.fields,this.apiEndpoint=t.doc.apiEndpoint,this.queryParams=d.get(t,"doc.queryParams",{}),this.title=t.doc.title,this.titleService.setTitle(this.title)})).subscribe(()=>this.model.user=this.accountService.getLogin())}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(p.c),h.Pb(n.a),h.Pb(m.a))},t.\u0275cmp=h.Jb({type:t,selectors:[["jhi-form"]],decls:23,vars:5,consts:[[1,"container-fluid"],[1,"card","my-3"],[1,"card-header"],["id","jhi-management-heading",3,"innerHtml"],[1,"card-body"],["novalidate","",3,"formGroup"],[3,"model","fields","form"]],template:function(t,e){1&t&&(h.Vb(0,"div",0),h.Ic(1,"\n  "),h.Vb(2,"div",1),h.Ic(3,"\n    "),h.Vb(4,"div",2),h.Ic(5,"\n      "),h.Qb(6,"h2",3),h.Ic(7,"\n    "),h.Ub(),h.Ic(8,"\n    "),h.Vb(9,"div",4),h.Ic(10,"\n      "),h.Qb(11,"jhi-alert-error"),h.Ic(12,"\n\n      "),h.Qb(13,"jhi-alert"),h.Ic(14,"\n\n      "),h.Vb(15,"form",5),h.Ic(16,"\n        "),h.Qb(17,"formly-form",6),h.Ic(18,"\n      "),h.Ub(),h.Ic(19,"\n    "),h.Ub(),h.Ic(20,"\n  "),h.Ub(),h.Ic(21,"\n"),h.Ub(),h.Ic(22,"\n")),2&t&&(h.Cb(6),h.oc("innerHtml",e.title,h.Cc),h.Cb(9),h.oc("formGroup",e.form),h.Cb(2),h.oc("model",e.model)("fields",e.fields)("form",e.form))},directives:[u.a,f.a,b.y,b.o,b.j,v.f],encapsulation:2}),t})();var y=i("exUl"),g=i("tk/3"),S=i("6PFj"),j=i("6NWb");let P=(()=>{class t{constructor(t,e,i,n){this.titleService=t,this.httpClient=e,this.alertService=i,this.activatedRoute=n,this.isSaving=!1,this.title="",this.fields=[],this.model={},this.apiEndpoint="",this.queryParams={},this.form=new b.i({})}ngOnInit(){this.activatedRoute.data.pipe(Object(r.a)(t=>{this.fields=t.doc.fields,this.apiEndpoint=t.doc.apiEndpoint,this.queryParams=d.get(t,"doc.queryParams",{}),this.title=t.doc.title,this.titleService.setTitle(this.title)})).subscribe(()=>this.loadAll())}loadAll(){this.httpClient.get(o.c+this.apiEndpoint,{params:Object(y.a)(this.queryParams),observe:"response",responseType:"text"}).pipe(Object(c.a)(t=>t.ok),Object(r.a)(t=>{var e;return l.load(null!==(e=t.body)&&void 0!==e?e:"")})).subscribe(t=>{this.model=t})}save(){this.isSaving=!0,this.httpClient.post(this.apiEndpoint,l.dump(this.model),{params:Object(y.a)(this.queryParams),observe:"response",responseType:"text"}).subscribe(()=>this.onSaveSuccess(),()=>this.onSaveError())}previousState(){window.history.back()}onSaveSuccess(){this.isSaving=!1,this.loadAll(),this.alertService.success("Success")}onSaveError(){this.isSaving=!1,this.alertService.error("Failure")}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(p.c),h.Pb(g.b),h.Pb(S.a),h.Pb(n.a))},t.\u0275cmp=h.Jb({type:t,selectors:[["jhi-configuration"]],decls:42,vars:6,consts:[[1,"container-fluid"],[1,"card","my-3"],[1,"card-header","bg-primary"],["id","jhi-management-heading",3,"innerHtml"],[1,"card-body"],["novalidate","",3,"formGroup","ngSubmit"],[3,"model","fields","form"],[1,"d-flex","justify-content-between"],["type","reset","name","button",1,"btn","btn-secondary",3,"click"],["icon","ban"],["type","submit","name","button",1,"btn","btn-primary",3,"disabled"],["icon","save"]],template:function(t,e){1&t&&(h.Vb(0,"div",0),h.Ic(1,"\n  "),h.Vb(2,"div",1),h.Ic(3,"\n    "),h.Vb(4,"div",2),h.Ic(5,"\n      "),h.Qb(6,"h2",3),h.Ic(7,"\n    "),h.Ub(),h.Ic(8,"\n    "),h.Vb(9,"div",4),h.Ic(10,"\n      "),h.Qb(11,"jhi-alert-error"),h.Ic(12,"\n\n      "),h.Qb(13,"jhi-alert"),h.Ic(14,"\n\n      "),h.Vb(15,"form",5),h.fc("ngSubmit",function(){return e.save()}),h.Ic(16,"\n        "),h.Qb(17,"formly-form",6),h.Ic(18,"\n        "),h.Vb(19,"div",7),h.Ic(20,"\n          "),h.Vb(21,"button",8),h.fc("click",function(){return e.previousState()}),h.Ic(22,"\n            "),h.Qb(23,"fa-icon",9),h.Ic(24,"\n            "),h.Vb(25,"span"),h.Ic(26,"Cancel"),h.Ub(),h.Ic(27,"\n          "),h.Ub(),h.Ic(28,"\n          "),h.Vb(29,"button",10),h.Ic(30,"\n            "),h.Qb(31,"fa-icon",11),h.Ic(32,"\n            "),h.Vb(33,"span"),h.Ic(34,"Save"),h.Ub(),h.Ic(35,"\n          "),h.Ub(),h.Ic(36,"\n        "),h.Ub(),h.Ic(37,"\n      "),h.Ub(),h.Ic(38,"\n    "),h.Ub(),h.Ic(39,"\n  "),h.Ub(),h.Ic(40,"\n"),h.Ub(),h.Ic(41,"\n")),2&t&&(h.Cb(6),h.oc("innerHtml",e.title,h.Cc),h.Cb(9),h.oc("formGroup",e.form),h.Cb(2),h.oc("model",e.model)("fields",e.fields)("form",e.form),h.Cb(12),h.oc("disabled",e.form.invalid||e.isSaving))},directives:[u.a,f.a,b.y,b.o,b.j,v.f,j.a],encapsulation:2}),t})(),U=(()=>{class t{constructor(t){this.httpCLient=t}resolve(t){return this.httpCLient.get(o.c+`assets/management/${d.toString(t.params.doc)}.yaml?ts=${d.toString(o.a)}`,{responseType:"text",observe:"response"}).pipe(Object(c.a)(t=>t.ok),Object(r.a)(t=>{var e;return l.load(null!==(e=t.body)&&void 0!==e?e:"")}))}}return t.\u0275fac=function(e){return new(e||t)(h.cc(g.b))},t.\u0275prov=h.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const w=[{path:"configurations/:doc",component:P,resolve:{doc:U},data:{authorities:["ROLE_ADMIN"],pageTitle:"management.title"},canActivate:[a.a]},{path:"forms/:doc",component:I,resolve:{doc:U},data:{authorities:["ROLE_ADMIN"],pageTitle:"management.title"},canActivate:[a.a]}];let C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Nb({type:t}),t.\u0275inj=h.Mb({imports:[[s.a,n.j.forChild(w)]]}),t})()}}]);